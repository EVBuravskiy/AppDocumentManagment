<Window x:Class="AppDocumentManagment.UI.Views.InternalDocumentShowWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:AppDocumentManagment.UI.Views"
        mc:Ignorable="d"
        Title="АИС Документооборот"  
        Height="900"
        Width="600"
        Icon="/Resources/Images/AppIcon.png" WindowStartupLocation="CenterScreen" ResizeMode="NoResize">

    <Grid>
        <Grid.Background>
            <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                <GradientStop Color="Black" Offset="0.778"/>
                <GradientStop Color="White" Offset="0"/>
            </LinearGradientBrush>
        </Grid.Background>
        <Grid.RowDefinitions>
            <RowDefinition Height="60px"/>
            <RowDefinition Height="60px"/>
            <RowDefinition Height="120px"/>
            <RowDefinition Height="250px" x:Name="InternalDocumentContent"/>
            <RowDefinition Height="220px"/>
            <RowDefinition Height="150px"/>
            <RowDefinition/>
        </Grid.RowDefinitions>
        <Grid Grid.Row="0">
            <Grid.Background>
                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                    <GradientStop Color="Black" Offset="0"/>
                    <GradientStop Color="#FF7D00FF" Offset="1"/>
                </LinearGradientBrush>
            </Grid.Background>
            <Label Grid.Row="0" 
                   x:Name="GreetingLabel"
                   Content="Окно внутреннего документа" 
                   HorizontalAlignment="Left" 
                   Padding="20,0"
                   Style="{StaticResource TopPanelLabel}"
                   Foreground="WhiteSmoke"/>
            <Button x:Name="ExitBtn"
                    Content="Выйти"
                    HorizontalAlignment="Right"
                    Style="{StaticResource Buttons}"
                    Margin="10, 5"
                    Padding="20, 0"
                    Command="{Binding IExit}"/>
        </Grid>
        <Grid Grid.Row="1">
            <Grid>
                <StackPanel Orientation="Vertical">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="200"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Label Grid.Column="0"  
                               Style="{StaticResource TopPanelLabel}"
                               HorizontalAlignment="Left"
                               Foreground="Black"
                               Margin="25 0"
                               Content="Тип документа"/>
                        <Label Grid.Column="1" 
                               Style="{StaticResource TopPanelLabel}"
                               HorizontalAlignment="Left"
                               Foreground="Black"
                               FontSize="16"
                               Margin="25 0"
                               Content="{Binding InternalDocumentType}"/>
                    </Grid>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="200"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Label Grid.Column="0"  
                               Style="{StaticResource TopPanelLabel}"
                               HorizontalAlignment="Left"
                               Foreground="Black"
                               Margin="25 0"
                               Content="Дата документа: "/>
                        <Label Grid.Column="1" 
                               Style="{StaticResource TopPanelLabel}"
                               HorizontalAlignment="Left"
                               Foreground="Black"
                               FontSize="16"
                               Margin="25 0"
                               Content="{Binding InternalDocumentDate}"/>
                    </Grid>
                </StackPanel>
            </Grid>
        </Grid>
        <Grid Grid.Row="2">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Grid Grid.Column="0">
                    <Grid Margin="20 10">
                            <Border x:Name="SignatoryInfo"
                                        CornerRadius="5"
                                        BorderThickness="0"
                                        BorderBrush="Transparent">
                                <StackPanel Orientation="Vertical">
                                    <TextBlock Style="{StaticResource AdminDocumentTextblock}"
                                                   HorizontalAlignment="Center"
                                                   FontSize="12"
                                                   Text="Информация об инициаторе / подписанте"
                                                   Margin="0 5 0 5"/>
                                    <TextBlock Style="{StaticResource AdminDocumentTextblock}"
                                                   HorizontalAlignment="Center"
                                                   FontSize="14"
                                                   Text="{Binding Signatory.Department.DepartmentTitle}"
                                                   Margin="0 5 0 0"/>
                                    <TextBlock Style="{StaticResource AdminDocumentTextblock}"
                                                   HorizontalAlignment="Center"
                                                   FontSize="12"
                                                   Text="{Binding Signatory.Position}"
                                                   Margin="0 0 0 10"/>
                                    <TextBlock Style="{StaticResource AdminDocumentTextblock}"
                                                   HorizontalAlignment="Center"
                                                   FontSize="14"
                                                   Text="{Binding Signatory.EmployeeFullName}"
                                                   TextWrapping="Wrap"
                                                   TextAlignment="Left"
                                                   Margin="0 0 0 3"/>
                                </StackPanel>
                            </Border>
                    </Grid>
                </Grid>
                <Grid Grid.Column="1">
                        <Grid Margin="20 10">
                                <Border x:Name="AgreeEmployer"
                                        CornerRadius="5"
                                        BorderThickness="0"
                                        BorderBrush="Transparent">
                                    <StackPanel Orientation="Vertical">
                                        <TextBlock Style="{StaticResource AdminDocumentTextblock}"
                                                   HorizontalAlignment="Center"
                                                   FontSize="12"
                                                   Text="Информация о лице согласовавшем документ"
                                                   Margin="0 5 0 5"/>
                                        <TextBlock Style="{StaticResource AdminDocumentTextblock}"
                                                   HorizontalAlignment="Center"
                                                   FontSize="14"
                                                   Text="{Binding ApprovedManager.Department.DepartmentTitle}"
                                                   Margin="0 5 0 0"/>
                                        <TextBlock Style="{StaticResource AdminDocumentTextblock}"
                                                   HorizontalAlignment="Center"
                                                   FontSize="12"
                                                   Text="{Binding ApprovedManager.Position}"
                                                   Margin="0 0 0 10"/>
                                        <TextBlock Style="{StaticResource AdminDocumentTextblock}"
                                                   HorizontalAlignment="Center"
                                                   FontSize="14"
                                                   Text="{Binding ApprovedManager.EmployeeFullName}"
                                                   TextWrapping="Wrap"
                                                   TextAlignment="Left"
                                                   Margin="0 0 0 3"/>
                                    </StackPanel>
                                </Border>
                        </Grid>
                </Grid>
            </Grid>
        </Grid>
        <Grid Grid.Row="3" 
              Margin="20,0,20,0">
            <StackPanel>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="250"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Label Grid.Column="0"  
                               Style="{StaticResource TopPanelLabel}"
                               HorizontalAlignment="Left"
                               Foreground="Black"
                               Content="Наименование документа:"/>
                    <TextBlock Grid.Column="1" 
                               Style="{StaticResource AdminDocumentTextblock}"
                               HorizontalAlignment="Left"
                               Foreground="Black"
                               TextWrapping="Wrap"
                               FontSize="16"
                               TextAlignment="Justify"
                               Text="{Binding InternalDocumentTitle}"/>
                </Grid>
                <Label Content="Краткое содержание документа:"
                       Style="{StaticResource TopPanelLabel}"
                       Foreground="Black"/>
                <TextBlock Style="{StaticResource AdminDocumentTextblock}"
                           VerticalAlignment="Center"
                           FontSize="14"
                           Text="{Binding InternalDocumentContent}"
                           Background="WhiteSmoke"
                           Padding="10 5"
                           Height="220"
                           TextAlignment="Justify"
                           TextWrapping="Wrap">
                </TextBlock>
            </StackPanel>
        </Grid>
        <Grid Grid.Row="4"
              Margin="0,0,0,20">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="25"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="60"/>
                </Grid.RowDefinitions>
                <Label Grid.Row="0"
                       Style="{StaticResource TopPanelLabel}"
                       Foreground="White"
                       Margin="20 0"
                       Content="Файлы приложения к документу: "/>
                <ListView Grid.Row="1"
                          x:Name="FileList"
                          Margin="20 5 20 10"
                          ItemsSource="{Binding InternalDocumentFiles}"
                          SelectedItem="{Binding SelectedInternalDocumentFile}">
                    <ListView.ItemTemplate>
                        <DataTemplate>
                            <TextBlock Style="{StaticResource AdminDocumentTextblock}" Text="{Binding FileName}"/>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>
                <Button Grid.Row="2" 
                        Style="{StaticResource Buttons}"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        Padding="10 10"
                        Margin="20 0"
                        Command="{Binding IDownloadFiles}">
                    <TextBlock TextAlignment="Center">Скачать все файлы<LineBreak/>приложенные к документу</TextBlock>
                </Button>
                <Button Grid.Row="2" 
                        Style="{StaticResource Buttons}"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Center"
                        Padding="10 10"
                        Margin="20 0"
                        Command="{Binding IBrowseInternalDocumentFiles}">
                    <TextBlock TextAlignment="Center">Добавить файл<LineBreak/> в документ</TextBlock>
                </Button>
            </Grid>
        </Grid>
        <Grid Grid.Row="5">
            <Button x:Name="AgreeInternalDocument"
                    VerticalAlignment="Top"
                    HorizontalAlignment="Left"
                    Style="{StaticResource Buttons}"
                    Padding="25 5"
                    Margin="20 20"
                    FontFamily="Arial" 
                    FontSize="18"
                    FontWeight="Bold"
                    Command="{Binding IAgreeInternalDocument}">
                <TextBlock TextAlignment="Center"> Согласовать <LineBreak/>документ</TextBlock>
            </Button>

            <Button x:Name="CreateTask"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Bottom"
                    Style="{StaticResource Buttons}"
                    Padding="25 5"
                    Margin="20 20"
                    FontFamily="Arial" 
                    FontSize="18"
                    FontWeight="Bold"
                    Command="{Binding ICreateTask}">
                <TextBlock TextAlignment="Center"> Создать задание<LineBreak/>к документу</TextBlock>
            </Button>
            <Button x:Name="SendDocument"
                    HorizontalAlignment="Right"
                    Style="{StaticResource Buttons}"
                    Padding="25 5"
                    Margin="20 20"
                    FontFamily="Arial" 
                    FontSize="18"
                    FontWeight="Bold"
                    Height="80"
                    Command="{Binding ISendToWork}">
                <TextBlock TextAlignment="Center"> Направить <LineBreak/>документ</TextBlock>
            </Button>
        </Grid>
    </Grid>
</Window>
